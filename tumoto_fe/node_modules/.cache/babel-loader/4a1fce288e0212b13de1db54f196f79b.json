{"remainingRequest":"C:\\Users\\vadem\\Desktop\\tumoto_fe\\tumoto_fe\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\vadem\\Desktop\\tumoto_fe\\tumoto_fe\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\vadem\\Desktop\\tumoto_fe\\tumoto_fe\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\vadem\\Desktop\\tumoto_fe\\tumoto_fe\\src\\components\\Tienda.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\vadem\\Desktop\\tumoto_fe\\tumoto_fe\\src\\components\\Tienda.vue","mtime":1634757450836},{"path":"C:\\Users\\vadem\\Desktop\\tumoto_fe\\tumoto_fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1634449392970},{"path":"C:\\Users\\vadem\\Desktop\\tumoto_fe\\tumoto_fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1634449441105},{"path":"C:\\Users\\vadem\\Desktop\\tumoto_fe\\tumoto_fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1634449392970},{"path":"C:\\Users\\vadem\\Desktop\\tumoto_fe\\tumoto_fe\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1634449475935}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL3ZhZGVtL0Rlc2t0b3AvdHVtb3RvX2ZlL3R1bW90b19mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IGp3dF9kZWNvZGUgZnJvbSAiand0LWRlY29kZSI7IC8vaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKCmltcG9ydCBheGlvcyBmcm9tICcuLi9jb25maWcvYXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlRpZW5kYSIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJJZDogbnVsbCwKICAgICAgbmFtZTogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgZW1haWw6ICIiLAogICAgICBsb2FkZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RGF0YTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldERhdGEgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgdmFyIHRva2VuOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbl9hY2Nlc3MiKSA9PT0gbnVsbCB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW5fcmVmcmVzaCIpID09PSBudWxsKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnbG9nT3V0Jyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52ZXJpZnlUb2tlbigpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbl9hY2Nlc3MiKTsKICAgICAgICAgICAgICAgIHRoaXMudXNlcklkID0gand0X2RlY29kZSh0b2tlbikudXNlcl9pZC50b1N0cmluZygpOyAvL2NvbiBjYW1iaW9zIGRlbCBQcm9mZQoKICAgICAgICAgICAgICAgIGF4aW9zLmdldCgiaHR0cHM6Ly90dW1vdG9hcHAuaGVyb2t1YXBwLmNvbS9jcnVkL3VzZXIvIi5jb25jYXQodGhpcy51c2VySWQsICIvIiksIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogIkJlYXJlciAiLmNvbmNhdCh0b2tlbikKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkgLy9jb24gY2FtYmlvcyBkZWwgUHJvZmUKICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMubmFtZSA9IHJlc3VsdC5kYXRhLm5hbWU7IC8vdGhpcy5wYXNzd29yZCA9IHJlc3VsdC5kYXRhLnBhc3N3b3JkOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuZW1haWwgPSByZXN1bHQuZGF0YS5lbWFpbDsKICAgICAgICAgICAgICAgICAgX3RoaXMubG9hZGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoJ2xvZ091dCcpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXREYXRhKCkgewogICAgICAgIHJldHVybiBfZ2V0RGF0YS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0RGF0YTsKICAgIH0oKSwKICAgIHZlcmlmeVRva2VuOiBmdW5jdGlvbiB2ZXJpZnlUb2tlbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gYXhpb3MucG9zdCgiaHR0cHM6Ly90dW1vdG9hcHAuaGVyb2t1YXBwLmNvbS9yZWZyZXNoLyIsIHsKICAgICAgICByZWZyZXNoOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW5fcmVmcmVzaCIpCiAgICAgIH0sIHsKICAgICAgICBoZWFkZXJzOiB7fQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidG9rZW5fYWNjZXNzIiwgcmVzdWx0LmRhdGEuYWNjZXNzKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kZW1pdCgnbG9nT3V0Jyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vREVMRVRFCiAgICBkZWxldGVVc2VyOiBmdW5jdGlvbiBkZWxldGVVc2VyKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGF4aW9zLmRlbGV0ZSgiY3J1ZC91c2VyLyIgKyB0aGlzLnVzZXJJZCArICIvIikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy9jb24gY2FtYmlvcyBkZWwgUHJvZmUKICAgICAgICBhbGVydCgiRUxJTUlOQURPIik7CgogICAgICAgIF90aGlzMy4kZW1pdCgnbG9nT3V0Jyk7IC8vIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAiU2lnblVwIn0pCgogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfY3JlYXRlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgdGhpcy5nZXREYXRhKCk7CgogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgICAgcmV0dXJuIF9jcmVhdGVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIGNyZWF0ZWQ7CiAgfSgpCn07"},{"version":3,"sources":["C:\\Users\\vadem\\Desktop\\tumoto_fe\\tumoto_fe\\src\\components\\Tienda.vue"],"names":[],"mappings":";;;;;AAYA,OAAO,UAAP,MAAuB,YAAvB,C,CACA;;AACA,OAAO,KAAP,MAAkB,iBAAlB;AACA,eAAe;AACd,EAAA,IAAI,EAAE,QADQ;AAEd,EAAA,IAAI,EAAE,gBAAU;AACf,WAAO;AACN,MAAA,MAAM,EAAE,IADF;AAEN,MAAA,IAAI,EAAE,EAFA;AAGN,MAAA,QAAQ,EAAE,EAHJ;AAIN,MAAA,KAAK,EAAE,EAJD;AAKN,MAAA,MAAM,EAAE;AALF,KAAP;AAOA,GAVa;AAWd,EAAA,OAAO,EAAE;AACR,IAAA,OAAO;AAAA,6EAAE;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACJ,YAAY,CAAC,OAAb,CAAqB,cAArB,MAAyC,IAAzC,IAAiD,YAAY,CAAC,OAAb,CAAqB,eAArB,MAA0C,IADvF;AAAA;AAAA;AAAA;;AAEN,qBAAK,KAAL,CAAW,QAAX;AAFM;;AAAA;AAAA;AAAA,uBAKD,KAAK,WAAL,EALC;;AAAA;AAMH,gBAAA,KANG,GAMK,YAAY,CAAC,OAAb,CAAqB,cAArB,CANL;AAOP,qBAAK,MAAL,GAAc,UAAU,CAAC,KAAD,CAAV,CAAkB,OAAlB,CAA0B,QAA1B,EAAd,CAPO,CAO6C;;AAEpD,gBAAA,KAAK,CAAC,GAAN,qDAAuD,KAAK,MAA5D,QAAuE;AAAC,kBAAA,OAAO,EAAE;AAAC,sDAA2B,KAA3B;AAAD;AAAV,iBAAvE,EAAwH;AAAxH,iBACC,IADD,CACM,UAAC,MAAD,EAAY;AACjB,kBAAA,KAAI,CAAC,IAAL,GAAY,MAAM,CAAC,IAAP,CAAY,IAAxB,CADiB,CAEjB;;AACA,kBAAA,KAAI,CAAC,KAAL,GAAa,MAAM,CAAC,IAAP,CAAY,KAAzB;AACA,kBAAA,KAAI,CAAC,MAAL,GAAc,IAAd;AACA,iBAND,EAOC,KAPD,CAOO,YAAM;AACZ,kBAAA,KAAI,CAAC,KAAL,CAAW,QAAX;AACA,iBATD;;AATO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OADC;AAqBP,IAAA,WAAW,EAAE,uBAAY;AAAA;;AACxB,aAAO,KAAK,CAAC,IAAN,CAAW,0CAAX,EAAuD;AAAC,QAAA,OAAO,EAAE,YAAY,CAAC,OAAb,CAAqB,eAArB;AAAV,OAAvD,EAAyG;AAAC,QAAA,OAAO,EAAE;AAAV,OAAzG,EAEN,IAFM,CAED,UAAC,MAAD,EAAY;AACjB,QAAA,YAAY,CAAC,OAAb,CAAqB,cAArB,EAAqC,MAAM,CAAC,IAAP,CAAY,MAAjD;AACA,OAJM,EAKN,KALM,CAKA,YAAM;AACZ,QAAA,MAAI,CAAC,KAAL,CAAW,QAAX;AACA,OAPM,CAAP;AAQA,KA9BM;AA+BP;AACA,IAAA,UAAU,EAAE,sBAAU;AAAA;;AACrB,MAAA,KAAK,CAAC,MAAN,CAAa,eAAc,KAAK,MAAnB,GAA0B,GAAvC,EAA4C,IAA5C,CAAiD,UAAA,GAAE,EAAI;AAAE;AACxD,QAAA,KAAK,CAAC,WAAD,CAAL;;AACA,QAAA,MAAI,CAAC,KAAL,CAAW,QAAX,EAFsD,CAGtD;;AACA,OAJD;AAKD;AAtCO,GAXK;AAoDb,EAAA,OAAO;AAAA,2EAAE;AAAA;AAAA;AAAA;AAAA;AACR,mBAAK,OAAL;;AADQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AApDM,CAAf","sourcesContent":["<template>\r\n\t<div v-if=\"loaded\" class=\"information\">\r\n\t\t<h1>Información de su cuenta</h1>\r\n\t\t<h2>Nombre: <span>{{name}}</span></h2>\r\n\t\t<!-- <h2>Password: <span>{{password}}</span></h2> -->\r\n\t\t<h2>Correo electrónico: <span>{{email}}</span></h2>\r\n\t\t<button type=\"button\" v-on:click=\"deleteUser\"> Eliminar Cuenta </button>\r\n\t\t\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport jwt_decode from \"jwt-decode\";\r\n//import axios from 'axios';\r\nimport axios from '../config/axios';\r\nexport default {\r\n\tname: \"Tienda\",\r\n\tdata: function(){\r\n\t\treturn {\r\n\t\t\tuserId: null,\r\n\t\t\tname: \"\",\t\t\t\r\n\t\t\tpassword: \"\",\r\n\t\t\temail: \"\",\r\n\t\t\tloaded: false,\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgetData: async function () {\r\n\t\t\tif (localStorage.getItem(\"token_access\") === null || localStorage.getItem(\"token_refresh\") === null) {\r\n\t\t\t\t\tthis.$emit('logOut');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tawait this.verifyToken();\r\n\t\t\t\tlet token = localStorage.getItem(\"token_access\");\r\n\t\t\t\tthis.userId = jwt_decode(token).user_id.toString(); //con cambios del Profe\r\n\r\n\t\t\t\taxios.get(`https://tumotoapp.herokuapp.com/crud/user/${this.userId}/`, {headers: {'Authorization': `Bearer ${token}`}}) //con cambios del Profe\r\n\t\t\t\t.then((result) => {\r\n\t\t\t\t\tthis.name = result.data.name;\r\n\t\t\t\t\t//this.password = result.data.password;\r\n\t\t\t\t\tthis.email = result.data.email;\r\n\t\t\t\t\tthis.loaded = true;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tthis.$emit('logOut');\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tverifyToken: function () {\r\n\t\t\t\treturn axios.post(\"https://tumotoapp.herokuapp.com/refresh/\", {refresh: localStorage.getItem(\"token_refresh\")}, {headers: {}}\r\n\t\t\t\t\t)\r\n\t\t\t\t.then((result) => {\r\n\t\t\t\t\tlocalStorage.setItem(\"token_access\", result.data.access);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tthis.$emit('logOut');\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//DELETE\r\n\t\t\tdeleteUser: function(){\r\n\t\t\t\taxios.delete(\"crud/user/\"+ this.userId+\"/\").then(res =>{ //con cambios del Profe\r\n\t\t\t\t\talert(\"ELIMINADO\");\r\n\t\t\t\t\tthis.$emit('logOut');\r\n\t\t\t\t\t// this.$router.push({name: \"SignUp\"})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcreated: async function(){\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style>\r\n.information{\r\n\tmargin: 0;\r\n\tpadding: 0%;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n.information h1{\r\n\tfont-size: 60px;\r\n\tcolor: #0f1316;\r\n}\r\n.information h2{\r\n\tfont-size: 40px;\r\n\tcolor: #283747;\r\n}\r\n.information span{\r\n\tcolor: crimson;\r\n\tfont-weight: bold;\r\n}\r\n</style>"],"sourceRoot":""}]}