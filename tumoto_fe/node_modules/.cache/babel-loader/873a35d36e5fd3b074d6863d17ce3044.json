{"remainingRequest":"C:\\Users\\vadem\\Desktop\\Sprint5\\tumoto_fe\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\vadem\\Desktop\\Sprint5\\tumoto_fe\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\vadem\\Desktop\\Sprint5\\tumoto_fe\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\vadem\\Desktop\\Sprint5\\tumoto_fe\\src\\components\\Tienda.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\vadem\\Desktop\\Sprint5\\tumoto_fe\\src\\components\\Tienda.vue","mtime":1634757450836},{"path":"C:\\Users\\vadem\\Desktop\\Sprint5\\tumoto_fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1634449392970},{"path":"C:\\Users\\vadem\\Desktop\\Sprint5\\tumoto_fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1634449441105},{"path":"C:\\Users\\vadem\\Desktop\\Sprint5\\tumoto_fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1634449392970},{"path":"C:\\Users\\vadem\\Desktop\\Sprint5\\tumoto_fe\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1634449475935}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL3ZhZGVtL0Rlc2t0b3AvU3ByaW50NS90dW1vdG9fZmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCBqd3RfZGVjb2RlIGZyb20gImp3dC1kZWNvZGUiOyAvL2ltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CgppbXBvcnQgYXhpb3MgZnJvbSAnLi4vY29uZmlnL2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJUaWVuZGEiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VySWQ6IG51bGwsCiAgICAgIG5hbWU6ICIiLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIGVtYWlsOiAiIiwKICAgICAgbG9hZGVkOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERhdGE6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXREYXRhID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHZhciB0b2tlbjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW5fYWNjZXNzIikgPT09IG51bGwgfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuX3JlZnJlc2giKSA9PT0gbnVsbCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2xvZ091dCcpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmVyaWZ5VG9rZW4oKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW5fYWNjZXNzIik7CiAgICAgICAgICAgICAgICB0aGlzLnVzZXJJZCA9IGp3dF9kZWNvZGUodG9rZW4pLnVzZXJfaWQudG9TdHJpbmcoKTsgLy9jb24gY2FtYmlvcyBkZWwgUHJvZmUKCiAgICAgICAgICAgICAgICBheGlvcy5nZXQoImh0dHBzOi8vdHVtb3RvYXBwLmhlcm9rdWFwcC5jb20vY3J1ZC91c2VyLyIuY29uY2F0KHRoaXMudXNlcklkLCAiLyIpLCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICJCZWFyZXIgIi5jb25jYXQodG9rZW4pCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pIC8vY29uIGNhbWJpb3MgZGVsIFByb2ZlCiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLm5hbWUgPSByZXN1bHQuZGF0YS5uYW1lOyAvL3RoaXMucGFzc3dvcmQgPSByZXN1bHQuZGF0YS5wYXNzd29yZDsKCiAgICAgICAgICAgICAgICAgIF90aGlzLmVtYWlsID0gcmVzdWx0LmRhdGEuZW1haWw7CiAgICAgICAgICAgICAgICAgIF90aGlzLmxvYWRlZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRlbWl0KCdsb2dPdXQnKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0RGF0YSgpIHsKICAgICAgICByZXR1cm4gX2dldERhdGEuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldERhdGE7CiAgICB9KCksCiAgICB2ZXJpZnlUb2tlbjogZnVuY3Rpb24gdmVyaWZ5VG9rZW4oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoImh0dHBzOi8vdHVtb3RvYXBwLmhlcm9rdWFwcC5jb20vcmVmcmVzaC8iLCB7CiAgICAgICAgcmVmcmVzaDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuX3JlZnJlc2giKQogICAgICB9LCB7CiAgICAgICAgaGVhZGVyczoge30KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInRva2VuX2FjY2VzcyIsIHJlc3VsdC5kYXRhLmFjY2Vzcyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuJGVtaXQoJ2xvZ091dCcpOwogICAgICB9KTsKICAgIH0sCiAgICAvL0RFTEVURQogICAgZGVsZXRlVXNlcjogZnVuY3Rpb24gZGVsZXRlVXNlcigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBheGlvcy5kZWxldGUoImNydWQvdXNlci8iICsgdGhpcy51c2VySWQgKyAiLyIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vY29uIGNhbWJpb3MgZGVsIFByb2ZlCiAgICAgICAgYWxlcnQoIkVMSU1JTkFETyIpOwoKICAgICAgICBfdGhpczMuJGVtaXQoJ2xvZ091dCcpOyAvLyB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogIlNpZ25VcCJ9KQoKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX2NyZWF0ZWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHRoaXMuZ2V0RGF0YSgpOwoKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpOwogICAgfSkpOwoKICAgIGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAgIHJldHVybiBfY3JlYXRlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBjcmVhdGVkOwogIH0oKQp9Ow=="},{"version":3,"sources":["C:\\Users\\vadem\\Desktop\\Sprint5\\tumoto_fe\\src\\components\\Tienda.vue"],"names":[],"mappings":";;;;;AAYA,OAAO,UAAP,MAAuB,YAAvB,C,CACA;;AACA,OAAO,KAAP,MAAkB,iBAAlB;AACA,eAAe;AACd,EAAA,IAAI,EAAE,QADQ;AAEd,EAAA,IAAI,EAAE,gBAAU;AACf,WAAO;AACN,MAAA,MAAM,EAAE,IADF;AAEN,MAAA,IAAI,EAAE,EAFA;AAGN,MAAA,QAAQ,EAAE,EAHJ;AAIN,MAAA,KAAK,EAAE,EAJD;AAKN,MAAA,MAAM,EAAE;AALF,KAAP;AAOA,GAVa;AAWd,EAAA,OAAO,EAAE;AACR,IAAA,OAAO;AAAA,6EAAE;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACJ,YAAY,CAAC,OAAb,CAAqB,cAArB,MAAyC,IAAzC,IAAiD,YAAY,CAAC,OAAb,CAAqB,eAArB,MAA0C,IADvF;AAAA;AAAA;AAAA;;AAEN,qBAAK,KAAL,CAAW,QAAX;AAFM;;AAAA;AAAA;AAAA,uBAKD,KAAK,WAAL,EALC;;AAAA;AAMH,gBAAA,KANG,GAMK,YAAY,CAAC,OAAb,CAAqB,cAArB,CANL;AAOP,qBAAK,MAAL,GAAc,UAAU,CAAC,KAAD,CAAV,CAAkB,OAAlB,CAA0B,QAA1B,EAAd,CAPO,CAO6C;;AAEpD,gBAAA,KAAK,CAAC,GAAN,qDAAuD,KAAK,MAA5D,QAAuE;AAAC,kBAAA,OAAO,EAAE;AAAC,sDAA2B,KAA3B;AAAD;AAAV,iBAAvE,EAAwH;AAAxH,iBACC,IADD,CACM,UAAC,MAAD,EAAY;AACjB,kBAAA,KAAI,CAAC,IAAL,GAAY,MAAM,CAAC,IAAP,CAAY,IAAxB,CADiB,CAEjB;;AACA,kBAAA,KAAI,CAAC,KAAL,GAAa,MAAM,CAAC,IAAP,CAAY,KAAzB;AACA,kBAAA,KAAI,CAAC,MAAL,GAAc,IAAd;AACA,iBAND,EAOC,KAPD,CAOO,YAAM;AACZ,kBAAA,KAAI,CAAC,KAAL,CAAW,QAAX;AACA,iBATD;;AATO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OADC;AAqBP,IAAA,WAAW,EAAE,uBAAY;AAAA;;AACxB,aAAO,KAAK,CAAC,IAAN,CAAW,0CAAX,EAAuD;AAAC,QAAA,OAAO,EAAE,YAAY,CAAC,OAAb,CAAqB,eAArB;AAAV,OAAvD,EAAyG;AAAC,QAAA,OAAO,EAAE;AAAV,OAAzG,EAEN,IAFM,CAED,UAAC,MAAD,EAAY;AACjB,QAAA,YAAY,CAAC,OAAb,CAAqB,cAArB,EAAqC,MAAM,CAAC,IAAP,CAAY,MAAjD;AACA,OAJM,EAKN,KALM,CAKA,YAAM;AACZ,QAAA,MAAI,CAAC,KAAL,CAAW,QAAX;AACA,OAPM,CAAP;AAQA,KA9BM;AA+BP;AACA,IAAA,UAAU,EAAE,sBAAU;AAAA;;AACrB,MAAA,KAAK,CAAC,MAAN,CAAa,eAAc,KAAK,MAAnB,GAA0B,GAAvC,EAA4C,IAA5C,CAAiD,UAAA,GAAE,EAAI;AAAE;AACxD,QAAA,KAAK,CAAC,WAAD,CAAL;;AACA,QAAA,MAAI,CAAC,KAAL,CAAW,QAAX,EAFsD,CAGtD;;AACA,OAJD;AAKD;AAtCO,GAXK;AAoDb,EAAA,OAAO;AAAA,2EAAE;AAAA;AAAA;AAAA;AAAA;AACR,mBAAK,OAAL;;AADQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AApDM,CAAf","sourcesContent":["<template>\r\n\t<div v-if=\"loaded\" class=\"information\">\r\n\t\t<h1>Información de su cuenta</h1>\r\n\t\t<h2>Nombre: <span>{{name}}</span></h2>\r\n\t\t<!-- <h2>Password: <span>{{password}}</span></h2> -->\r\n\t\t<h2>Correo electrónico: <span>{{email}}</span></h2>\r\n\t\t<button type=\"button\" v-on:click=\"deleteUser\"> Eliminar Cuenta </button>\r\n\t\t\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport jwt_decode from \"jwt-decode\";\r\n//import axios from 'axios';\r\nimport axios from '../config/axios';\r\nexport default {\r\n\tname: \"Tienda\",\r\n\tdata: function(){\r\n\t\treturn {\r\n\t\t\tuserId: null,\r\n\t\t\tname: \"\",\t\t\t\r\n\t\t\tpassword: \"\",\r\n\t\t\temail: \"\",\r\n\t\t\tloaded: false,\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgetData: async function () {\r\n\t\t\tif (localStorage.getItem(\"token_access\") === null || localStorage.getItem(\"token_refresh\") === null) {\r\n\t\t\t\t\tthis.$emit('logOut');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tawait this.verifyToken();\r\n\t\t\t\tlet token = localStorage.getItem(\"token_access\");\r\n\t\t\t\tthis.userId = jwt_decode(token).user_id.toString(); //con cambios del Profe\r\n\r\n\t\t\t\taxios.get(`https://tumotoapp.herokuapp.com/crud/user/${this.userId}/`, {headers: {'Authorization': `Bearer ${token}`}}) //con cambios del Profe\r\n\t\t\t\t.then((result) => {\r\n\t\t\t\t\tthis.name = result.data.name;\r\n\t\t\t\t\t//this.password = result.data.password;\r\n\t\t\t\t\tthis.email = result.data.email;\r\n\t\t\t\t\tthis.loaded = true;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tthis.$emit('logOut');\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tverifyToken: function () {\r\n\t\t\t\treturn axios.post(\"https://tumotoapp.herokuapp.com/refresh/\", {refresh: localStorage.getItem(\"token_refresh\")}, {headers: {}}\r\n\t\t\t\t\t)\r\n\t\t\t\t.then((result) => {\r\n\t\t\t\t\tlocalStorage.setItem(\"token_access\", result.data.access);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tthis.$emit('logOut');\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//DELETE\r\n\t\t\tdeleteUser: function(){\r\n\t\t\t\taxios.delete(\"crud/user/\"+ this.userId+\"/\").then(res =>{ //con cambios del Profe\r\n\t\t\t\t\talert(\"ELIMINADO\");\r\n\t\t\t\t\tthis.$emit('logOut');\r\n\t\t\t\t\t// this.$router.push({name: \"SignUp\"})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcreated: async function(){\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style>\r\n.information{\r\n\tmargin: 0;\r\n\tpadding: 0%;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n.information h1{\r\n\tfont-size: 60px;\r\n\tcolor: #0f1316;\r\n}\r\n.information h2{\r\n\tfont-size: 40px;\r\n\tcolor: #283747;\r\n}\r\n.information span{\r\n\tcolor: crimson;\r\n\tfont-weight: bold;\r\n}\r\n</style>"],"sourceRoot":""}]}